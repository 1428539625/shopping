{"remainingRequest":"G:\\工作\\vue\\luyou\\luyouv2\\mytabbar\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\工作\\vue\\luyou\\luyouv2\\mytabbar\\src\\components\\common\\swiper\\Swiper.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\工作\\vue\\luyou\\luyouv2\\mytabbar\\src\\components\\common\\swiper\\Swiper.vue","mtime":1624861204319},{"path":"G:\\工作\\vue\\luyou\\luyouv2\\mytabbar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\工作\\vue\\luyou\\luyouv2\\mytabbar\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\工作\\vue\\luyou\\luyouv2\\mytabbar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\工作\\vue\\luyou\\luyouv2\\mytabbar\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJTd2lwZXIiLA0KICBwcm9wczp7DQogICAgICAvL+mXtOmalOaXtumXtA0KICAgICAgaW50ZXJ2YWw6ew0KICAgICAgICAgIHR5cGU6TnVtYmVyLA0KICAgICAgICAgIGRlZmF1bHQ6MzAwMA0KICAgICAgfSwNCiAgICAgIC8v5rua5Yqo5bu26L+f5pe26Ze0DQogICAgICBhbmltRHVyYXRpb246ew0KICAgICAgICAgIHR5cGU6TnVtYmVyLA0KICAgICAgICAgIGRlZmF1bHQ6MzAwDQogICAgICB9LA0KICAgICAgLy/mu5rlh7rkuIvkuIDkuKrnlYzpnaLmr5TkvosNCiAgICAgIG1vdmVSYXRpbzp7DQogICAgICAgICAgdHlwZTpOdW1iZXIsDQogICAgICAgICAgZGVmYXVsdDowLjI1DQogICAgICB9LA0KICAgICAgLy/mmL7npLrmoIfor4YNCiAgICAgIHNob3dJbmRpY2F0b3I6ew0KICAgICAgICAgIHR5cGU6Qm9vbGVhbiwNCiAgICAgICAgICBkZWZhdWx0OnRydWUNCiAgICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgICBzbGlkZUNvdW50OiAwLCAvLyDlhYPntKDkuKrmlbANCiAgICAgICAgdG90YWxXaWR0aDogMCwgLy8gc3dpcGVy55qE5a695bqmDQogICAgICAgIHN3aXBlclN0eWxlOiB7fSwgLy8gc3dpcGVy5qC35byPDQogICAgICAgIGN1cnJlbnRJbmRleDogMSwgLy8g5b2T5YmN55qEaW5kZXgNCiAgICAgICAgc2Nyb2xsaW5nOiBmYWxzZSwgLy8g5piv5ZCm5q2j5Zyo5rua5YqoDQogICAgfQ0KICB9LA0KIG1vdW50ZWQoKSB7DQogICAgICAvLyAxLuaTjeS9nERPTSwg5Zyo5YmN5ZCO5re75YqgU2xpZGUNCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICB0aGlzLmhhbmRsZURvbSgpOw0KDQogICAgICAgIC8vIDIu5byA5ZCv5a6a5pe25ZmoDQogICAgICAgIHRoaXMuc3RhcnRUaW1lcigpOw0KICAgICAgfSwgMTAwKQ0KICAgIH0sDQptZXRob2RzOnsNCiAgICBzdGFydFRpbWVyKCl7DQogICAgICAgIHRoaXMucGxheVRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKT0+ew0KICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXgrKzsNCiAgICAgICAgICAgIHRoaXMuc2Nyb2xsQ29udGVudCgtdGhpcy5jdXJyZW50SW5kZXgqdGhpcy50b3RhbFdpZHRoKTsNCiAgICAgICAgfSx0aGlzLmludGVydmFsKQ0KICAgIH0sDQogICAgc3RvcFRpbWVyKCl7DQogICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGxheVRpbWVyKQ0KICAgIH0sDQogICAgc2Nyb2xsQ29udGVudChjdXJyZW50UG9zaXRpb24pew0KICAgICAgIC8vIDAu6K6+572u5q2j5Zyo5rua5YqoDQogICAgICAgIHRoaXMuc2Nyb2xsaW5nID0gdHJ1ZTsNCg0KICAgICAgICAvLyAxLuW8gOWni+a7muWKqOWKqOeUuw0KICAgICAgICB0aGlzLnN3aXBlclN0eWxlLnRyYW5zaXRpb24gPSd0cmFuc2Zvcm0gJysgdGhpcy5hbmltRHVyYXRpb24gKyAnbXMnOw0KICAgICAgICB0aGlzLnNldFRyYW5zZm9ybShjdXJyZW50UG9zaXRpb24pOw0KDQogICAgICAgIC8vIDIu5Yik5pat5rua5Yqo5Yiw55qE5L2N572uDQogICAgICAgIHRoaXMuY2hlY2tQb3NpdGlvbigpOw0KDQogICAgICAgIC8vIDQu5rua5Yqo5a6M5oiQDQogICAgICAgIHRoaXMuc2Nyb2xsaW5nID0gZmFsc2UNCiAgICB9LA0KIGNoZWNrUG9zaXRpb24oKSB7DQogICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAvLyAxLuagoemqjOato+ehrueahOS9jee9rg0KICAgICAgICAgIHRoaXMuc3dpcGVyU3R5bGUudHJhbnNpdGlvbiA9ICcwbXMnOw0KICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA+PSB0aGlzLnNsaWRlQ291bnQgKyAxKSB7DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IDE7DQogICAgICAgICAgICB0aGlzLnNldFRyYW5zZm9ybSgtdGhpcy5jdXJyZW50SW5kZXggKiB0aGlzLnRvdGFsV2lkdGgpOw0KICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50SW5kZXggPD0gMCkgew0KICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSB0aGlzLnNsaWRlQ291bnQ7DQogICAgICAgICAgICB0aGlzLnNldFRyYW5zZm9ybSgtdGhpcy5jdXJyZW50SW5kZXggKiB0aGlzLnRvdGFsV2lkdGgpOw0KICAgICAgICAgIH0NCg0KICAgICAgICAgIC8vIDIu57uT5p2f56e75Yqo5ZCO55qE5Zue6LCDDQogICAgICAgICAgdGhpcy4kZW1pdCgndHJhbnNpdGlvbkVuZCcsIHRoaXMuY3VycmVudEluZGV4LTEpOw0KICAgICAgICB9LCB0aGlzLmFuaW1EdXJhdGlvbikNCiAgICAgIH0sDQogICAgICAgIC8qKg0KICAgICAgICog6K6+572u5rua5Yqo55qE5L2N572uDQogICAgICAgKi8NCiAgICAgIHNldFRyYW5zZm9ybTogZnVuY3Rpb24gKHBvc2l0aW9uKSB7DQogICAgICAgIHRoaXMuc3dpcGVyU3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7cG9zaXRpb259cHgsIDAsIDApYDsNCiAgICAgICAgdGhpcy5zd2lwZXJTdHlsZVsnLXdlYmtpdC10cmFuc2Zvcm0nXSA9IGB0cmFuc2xhdGUzZCgke3Bvc2l0aW9ufXB4KSwgMCwgMGA7DQogICAgICAgIHRoaXMuc3dpcGVyU3R5bGVbJy1tcy10cmFuc2Zvcm0nXSA9IGB0cmFuc2xhdGUzZCgke3Bvc2l0aW9ufXB4KSwgMCwgMGA7DQogICAgICB9LA0KICAgICAgICAgLyoqDQogICAgICAgKiDmk43kvZxET00sIOWcqERPTeWJjeWQjua3u+WKoFNsaWRlDQogICAgICAgKi8NCgkJICBoYW5kbGVEb20oKSB7DQogICAgICAgIC8vIDEu6I635Y+W6KaB5pON5L2c55qE5YWD57SgDQogICAgICAgIGxldCBzd2lwZXJFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXInKTsNCiAgICAgICAgbGV0IHNsaWRlc0VscyA9IHN3aXBlckVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NsaWRlJyk7DQoNCiAgICAgICAgLy8gMi7kv53lrZjkuKrmlbANCiAgICAgICAgdGhpcy5zbGlkZUNvdW50ID0gc2xpZGVzRWxzLmxlbmd0aDsNCg0KICAgICAgICAvLyAzLuWmguaenOWkp+S6jjHkuKosIOmCo+S5iOWcqOWJjeWQjuWIhuWIq+a3u+WKoOS4gOS4qnNsaWRlDQogICAgICAgIGlmICh0aGlzLnNsaWRlQ291bnQgPiAxKSB7DQogICAgICAgICAgbGV0IGNsb25lRmlyc3QgPSBzbGlkZXNFbHNbMF0uY2xvbmVOb2RlKHRydWUpOw0KICAgICAgICAgIGxldCBjbG9uZUxhc3QgPSBzbGlkZXNFbHNbdGhpcy5zbGlkZUNvdW50IC0gMV0uY2xvbmVOb2RlKHRydWUpOw0KICAgICAgICAgIHN3aXBlckVsLmluc2VydEJlZm9yZShjbG9uZUxhc3QsIHNsaWRlc0Vsc1swXSk7DQogICAgICAgICAgc3dpcGVyRWwuYXBwZW5kQ2hpbGQoY2xvbmVGaXJzdCk7DQogICAgICAgICAgdGhpcy50b3RhbFdpZHRoID0gc3dpcGVyRWwub2Zmc2V0V2lkdGg7DQogICAgICAgICAgdGhpcy5zd2lwZXJTdHlsZSA9IHN3aXBlckVsLnN0eWxlOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gNC7orqlzd2lwZXLlhYPntKAsIOaYvuekuuesrOS4gOS4qijnm67liY3mmK/mmL7npLrliY3pnaLmt7vliqDnmoTmnIDlkI7kuIDkuKrlhYPntKApDQogICAgICAgIHRoaXMuc2V0VHJhbnNmb3JtKC10aGlzLnRvdGFsV2lkdGgpOw0KICAgICAgfSwNCi8qKg0KICAgICAgICog5ouW5Yqo5LqL5Lu255qE5aSE55CGDQogICAgICAgKi8NCiAgICAgIHRvdWNoU3RhcnQ6IGZ1bmN0aW9uIChlKSB7DQogICAgICAgIC8vIDEu5aaC5p6c5q2j5Zyo5rua5YqoLCDkuI3lj6/ku6Xmi5bliqgNCiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsaW5nKSByZXR1cm47DQoNCiAgICAgICAgLy8gMi7lgZzmraLlrprml7blmagNCiAgICAgICAgdGhpcy5zdG9wVGltZXIoKTsNCg0KICAgICAgICAvLyAzLuS/neWtmOW8gOWni+a7muWKqOeahOS9jee9rg0KICAgICAgICB0aGlzLnN0YXJ0WCA9IGUudG91Y2hlc1swXS5wYWdlWDsNCiAgICAgIH0sDQoNCiAgICAgIHRvdWNoTW92ZTogZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgLy8gMS7orqHnrpflh7rnlKjmiLfmi5bliqjnmoTot53nprsNCiAgICAgICAgdGhpcy5jdXJyZW50WCA9IGUudG91Y2hlc1swXS5wYWdlWDsNCiAgICAgICAgdGhpcy5kaXN0YW5jZSA9IHRoaXMuY3VycmVudFggLSB0aGlzLnN0YXJ0WDsNCiAgICAgICAgbGV0IGN1cnJlbnRQb3NpdGlvbiA9IC10aGlzLmN1cnJlbnRJbmRleCAqIHRoaXMudG90YWxXaWR0aDsNCiAgICAgICAgbGV0IG1vdmVEaXN0YW5jZSA9IHRoaXMuZGlzdGFuY2UgKyBjdXJyZW50UG9zaXRpb247DQoNCiAgICAgICAgLy8gMi7orr7nva7lvZPliY3nmoTkvY3nva4NCiAgICAgICAgdGhpcy5zZXRUcmFuc2Zvcm0obW92ZURpc3RhbmNlKTsNCiAgICAgIH0sDQoNCiAgICAgIHRvdWNoRW5kOiBmdW5jdGlvbiAoZSkgew0KICAgICAgICAvLyAxLuiOt+WPluenu+WKqOeahOi3neemuw0KICAgICAgICBsZXQgY3VycmVudE1vdmUgPSBNYXRoLmFicyh0aGlzLmRpc3RhbmNlKTsNCg0KICAgICAgICAvLyAyLuWIpOaWreacgOe7iOeahOi3neemuw0KICAgICAgICBpZiAodGhpcy5kaXN0YW5jZSA9PT0gMCkgew0KICAgICAgICAgIHJldHVybg0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGlzdGFuY2UgPiAwICYmIGN1cnJlbnRNb3ZlID4gdGhpcy50b3RhbFdpZHRoICogdGhpcy5tb3ZlUmF0aW8pIHsgLy8g5Y+z6L6556e75Yqo6LaF6L+HMC41DQogICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXgtLQ0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGlzdGFuY2UgPCAwICYmIGN1cnJlbnRNb3ZlID4gdGhpcy50b3RhbFdpZHRoICogdGhpcy5tb3ZlUmF0aW8pIHsgLy8g5ZCR5bem56e75Yqo6LaF6L+HMC41DQogICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXgrKw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gMy7np7vliqjliLDmraPnoa7nmoTkvY3nva4NCiAgICAgICAgdGhpcy5zY3JvbGxDb250ZW50KC10aGlzLmN1cnJlbnRJbmRleCAqIHRoaXMudG90YWxXaWR0aCk7DQoNCiAgICAgICAgLy8gNC7np7vliqjlrozmiJDlkI7ph43mlrDlvIDlkK/lrprml7blmagNCiAgICAgICAgdGhpcy5zdGFydFRpbWVyKCk7DQogICAgICB9LA0KDQogICAgICAvKioNCiAgICAgICAqIOaOp+WItuS4iuS4gOS4qiwg5LiL5LiA5LiqDQogICAgICAgKi8NCiAgICAgIHByZXZpb3VzOiBmdW5jdGlvbiAoKSB7DQogICAgICAgIHRoaXMuY2hhbmdlSXRlbSgtMSk7DQogICAgICB9LA0KDQogICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7DQogICAgICAgIHRoaXMuY2hhbmdlSXRlbSgxKTsNCiAgICAgIH0sDQoNCiAgICAgIGNoYW5nZUl0ZW06IGZ1bmN0aW9uIChudW0pIHsNCiAgICAgICAgLy8gMS7np7vpmaTlrprml7blmagNCiAgICAgICAgdGhpcy5zdG9wVGltZXIoKTsNCg0KICAgICAgICAvLyAyLuS/ruaUuWluZGV45ZKM5L2N572uDQogICAgICAgIHRoaXMuY3VycmVudEluZGV4ICs9IG51bTsNCiAgICAgICAgdGhpcy5zY3JvbGxDb250ZW50KC10aGlzLmN1cnJlbnRJbmRleCAqIHRoaXMudG90YWxXaWR0aCk7DQoNCiAgICAgICAgLy8gMy7mt7vliqDlrprml7blmagNCiAgICAgICAgdGhpcy5zdGFydFRpbWVyKCk7DQogICAgICB9DQogICAgfQ0KfQ0K"},{"version":3,"sources":["Swiper.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Swiper.vue","sourceRoot":"src/components/common/swiper","sourcesContent":["<template>\r\n    <div id=\"hy-swiper\">\r\n      <div class=\"swiper\" @touchstart=\"touchStart\" @touchmove=\"touchMove\" @touchend=\"touchEnd\">\r\n        <slot></slot>\r\n      </div>\r\n      <slot name=\"indicator\">\r\n      </slot>\r\n      <div class=\"indicator\">\r\n        <slot name=\"indicator\" v-if=\"showIndicator && slideCount>1\">\r\n          <div v-for=\"(item, index) in slideCount\" class=\"indi-item\" :class=\"{active: index === currentIndex-1}\" :key=\"index\"></div>\r\n        </slot>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\nexport default {\r\n  name: \"Swiper\",\r\n  props:{\r\n      //间隔时间\r\n      interval:{\r\n          type:Number,\r\n          default:3000\r\n      },\r\n      //滚动延迟时间\r\n      animDuration:{\r\n          type:Number,\r\n          default:300\r\n      },\r\n      //滚出下一个界面比例\r\n      moveRatio:{\r\n          type:Number,\r\n          default:0.25\r\n      },\r\n      //显示标识\r\n      showIndicator:{\r\n          type:Boolean,\r\n          default:true\r\n      }\r\n  },\r\n  data() {\r\n    return {\r\n        slideCount: 0, // 元素个数\r\n        totalWidth: 0, // swiper的宽度\r\n        swiperStyle: {}, // swiper样式\r\n        currentIndex: 1, // 当前的index\r\n        scrolling: false, // 是否正在滚动\r\n    }\r\n  },\r\n mounted() {\r\n      // 1.操作DOM, 在前后添加Slide\r\n      setTimeout(() => {\r\n        this.handleDom();\r\n\r\n        // 2.开启定时器\r\n        this.startTimer();\r\n      }, 100)\r\n    },\r\nmethods:{\r\n    startTimer(){\r\n        this.playTimer=window.setInterval(()=>{\r\n            this.currentIndex++;\r\n            this.scrollContent(-this.currentIndex*this.totalWidth);\r\n        },this.interval)\r\n    },\r\n    stopTimer(){\r\n        window.clearInterval(this.playTimer)\r\n    },\r\n    scrollContent(currentPosition){\r\n       // 0.设置正在滚动\r\n        this.scrolling = true;\r\n\r\n        // 1.开始滚动动画\r\n        this.swiperStyle.transition ='transform '+ this.animDuration + 'ms';\r\n        this.setTransform(currentPosition);\r\n\r\n        // 2.判断滚动到的位置\r\n        this.checkPosition();\r\n\r\n        // 4.滚动完成\r\n        this.scrolling = false\r\n    },\r\n checkPosition() {\r\n        window.setTimeout(() => {\r\n          // 1.校验正确的位置\r\n          this.swiperStyle.transition = '0ms';\r\n          if (this.currentIndex >= this.slideCount + 1) {\r\n            this.currentIndex = 1;\r\n            this.setTransform(-this.currentIndex * this.totalWidth);\r\n          } else if (this.currentIndex <= 0) {\r\n            this.currentIndex = this.slideCount;\r\n            this.setTransform(-this.currentIndex * this.totalWidth);\r\n          }\r\n\r\n          // 2.结束移动后的回调\r\n          this.$emit('transitionEnd', this.currentIndex-1);\r\n        }, this.animDuration)\r\n      },\r\n        /**\r\n       * 设置滚动的位置\r\n       */\r\n      setTransform: function (position) {\r\n        this.swiperStyle.transform = `translate3d(${position}px, 0, 0)`;\r\n        this.swiperStyle['-webkit-transform'] = `translate3d(${position}px), 0, 0`;\r\n        this.swiperStyle['-ms-transform'] = `translate3d(${position}px), 0, 0`;\r\n      },\r\n         /**\r\n       * 操作DOM, 在DOM前后添加Slide\r\n       */\r\n\t\t  handleDom() {\r\n        // 1.获取要操作的元素\r\n        let swiperEl = document.querySelector('.swiper');\r\n        let slidesEls = swiperEl.getElementsByClassName('slide');\r\n\r\n        // 2.保存个数\r\n        this.slideCount = slidesEls.length;\r\n\r\n        // 3.如果大于1个, 那么在前后分别添加一个slide\r\n        if (this.slideCount > 1) {\r\n          let cloneFirst = slidesEls[0].cloneNode(true);\r\n          let cloneLast = slidesEls[this.slideCount - 1].cloneNode(true);\r\n          swiperEl.insertBefore(cloneLast, slidesEls[0]);\r\n          swiperEl.appendChild(cloneFirst);\r\n          this.totalWidth = swiperEl.offsetWidth;\r\n          this.swiperStyle = swiperEl.style;\r\n        }\r\n\r\n        // 4.让swiper元素, 显示第一个(目前是显示前面添加的最后一个元素)\r\n        this.setTransform(-this.totalWidth);\r\n      },\r\n/**\r\n       * 拖动事件的处理\r\n       */\r\n      touchStart: function (e) {\r\n        // 1.如果正在滚动, 不可以拖动\r\n        if (this.scrolling) return;\r\n\r\n        // 2.停止定时器\r\n        this.stopTimer();\r\n\r\n        // 3.保存开始滚动的位置\r\n        this.startX = e.touches[0].pageX;\r\n      },\r\n\r\n      touchMove: function (e) {\r\n        // 1.计算出用户拖动的距离\r\n        this.currentX = e.touches[0].pageX;\r\n        this.distance = this.currentX - this.startX;\r\n        let currentPosition = -this.currentIndex * this.totalWidth;\r\n        let moveDistance = this.distance + currentPosition;\r\n\r\n        // 2.设置当前的位置\r\n        this.setTransform(moveDistance);\r\n      },\r\n\r\n      touchEnd: function (e) {\r\n        // 1.获取移动的距离\r\n        let currentMove = Math.abs(this.distance);\r\n\r\n        // 2.判断最终的距离\r\n        if (this.distance === 0) {\r\n          return\r\n        } else if (this.distance > 0 && currentMove > this.totalWidth * this.moveRatio) { // 右边移动超过0.5\r\n          this.currentIndex--\r\n        } else if (this.distance < 0 && currentMove > this.totalWidth * this.moveRatio) { // 向左移动超过0.5\r\n          this.currentIndex++\r\n        }\r\n\r\n        // 3.移动到正确的位置\r\n        this.scrollContent(-this.currentIndex * this.totalWidth);\r\n\r\n        // 4.移动完成后重新开启定时器\r\n        this.startTimer();\r\n      },\r\n\r\n      /**\r\n       * 控制上一个, 下一个\r\n       */\r\n      previous: function () {\r\n        this.changeItem(-1);\r\n      },\r\n\r\n      next: function () {\r\n        this.changeItem(1);\r\n      },\r\n\r\n      changeItem: function (num) {\r\n        // 1.移除定时器\r\n        this.stopTimer();\r\n\r\n        // 2.修改index和位置\r\n        this.currentIndex += num;\r\n        this.scrollContent(-this.currentIndex * this.totalWidth);\r\n\r\n        // 3.添加定时器\r\n        this.startTimer();\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style  scoped>\r\n#hy-swiper{\r\n    overflow:hidden;\r\n    position: relative;\r\n}\r\n.swiper{\r\n    display: flex;\r\n}\r\n.indicator{\r\n    display: flex;\r\n    justify-content: center;\r\n    position: absolute;\r\n    width: 100%;\r\n    bottom: 8px;\r\n}\r\n .indi-item {\r\n    box-sizing: border-box;\r\n    width: 8px;\r\n    height: 8px;\r\n    border-radius: 4px;\r\n    background-color: #fff;\r\n    line-height: 8px;\r\n    text-align: center;\r\n    font-size: 12px;\r\n    margin: 0 5px;\r\n  }\r\n\r\n  .indi-item.active {\r\n    background-color: rgba(212,62,46,1.0);\r\n  }\r\n</style>\r\n"]}]}